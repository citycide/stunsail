<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="description" content="stunsail - the opinionated JavaScript utility library.">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0" />
  <title>stunsail documentation</title>
  <link rel="stylesheet" href="https://unpkg.com/docute@3/dist/docute.css">
  <link rel="stylesheet" href="https://unpkg.com/docute@3/dist/theme-github.css">
  <style>
    small {
      font-size: 11px;
    }

    code, .code {
      font-family:
        "Operator Mono", "Fira Code", "Ubuntu Mono",
        "Droid Sans Mono", "Liberation Mono", "Source Code Pro",
        Menlo, Consolas, Inconsolata, Courier, monospace !important;
    }
  </style>
</head>
<body>
  <div id="app"></div>
  <script src="https://unpkg.com/docute@3/dist/docute.js"></script>
  <script>
    'use strict'

    const rawUrl = 'https://raw.githubusercontent.com/citycide/stunsail/master'
    const blobUrl = 'https://github.com/citycide/stunsail/blob/master'
    const isDev = window.location.href.indexOf('github.io') < 0

    const getEditUrl = path => {
      switch (path) {
        case '/': return `${blobUrl}/readme.md`
        case '/api': return `${blobUrl}/docs${path}.md`
        case '/changelog': return `${blobUrl}${path}.md`
      }
    }

    window.docute.init({
      icons: [{
        icon: 'edit',
        label: 'Edit this page',
        link: `${blobUrl}/docs`
      }, {
        icon: 'twitter',
        label: 'Follow ctycde on Twitter',
        link: 'https://twitter.com/ctycde'
      }, {
        icon: 'github',
        label: 'Contribute on GitHub',
        link: 'https://github.com/citycide/stunsail'
      }],
      home: isDev ? 'readme.md' : `${rawUrl}/readme.md`,
      nav: [
        { title: 'home', path: '/' },
        { title: 'api', path: '/api' },
        { title: 'changelog', path: '/changelog' }
      ],
      plugins: [
        context => {
          context.event.on('content:updated', vm => {
            const i = vm.currentIcons.findIndex(el => el.icon === 'edit')
            vm.currentIcons[i].link = getEditUrl(vm.currentNavItem.path)
          })

          context.afterParse(html => {
            const editUrl = getEditUrl(context.store.state.route.path)

            return (
              `${html}<hr>` +
              `<p><small>` +
              `<a href="${editUrl}">edit this page</a>` +
              `<small></p>`
            )
          })
        }
      ]
    })
  </script>
</body>
</html>
